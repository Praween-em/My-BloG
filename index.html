<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>VS Code Portfolio</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
Â  :root{
Â  Â  --bg:#1e1e1e; --panel:#252526; --sidebar:#252526; --active:#37373d;
Â  Â  --text:#d4d4d4; --muted:#9aa0a6; --accent:#0e639c; --border:#2d2d2d;
Â  Â  --tab:#2d2d2d; --tab-active:#1f2937; --badge:#2b88d8;
Â  Â  --green:#4caf50; --red:#e57373; --yellow:#ffc107;
Â  Â  --font: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
Â  }
Â  [data-theme="light"]{
Â  Â  --bg:#f5f7fb; --panel:#ffffff; --sidebar:#f0f2f8; --active:#e7eaf3;
Â  Â  --text:#1f2328; --muted:#6b7280; --accent:#2563eb; --border:#dfe3ea;
Â  Â  --tab:#e7eaf3; --tab-active:#ffffff; --badge:#2563eb;
Â  }
Â  *{box-sizing:border-box}
Â  html,body{height:100%}
Â  body{margin:0;background:var(--bg);color:var(--text);font:14px/1.5 var(--font)}

Â  /* ðŸ“± Mobile-First Layout (Default) */
Â  .layout{
Â  Â  display: flex;
Â  Â  flex-direction: column;
Â  Â  height: 100vh;
Â  Â  overflow: hidden;
Â  }
Â  .topbar, .statusbar{
Â  Â  background:var(--panel);
Â  Â  display:flex;
Â  Â  align-items:center;
Â  Â  gap:8px;
Â  Â  padding:0 10px;
Â  Â  border-top:1px solid var(--border);
Â  Â  color:var(--muted);
Â  }
Â  .topbar{
Â  Â  border-bottom:1px solid var(--border);
Â  Â  border-top:none;
Â  Â  height: 40px;
Â  }
Â  .statusbar{
Â  Â  height: 26px;
Â  }
Â  .brand{display:flex;align-items:center;gap:8px;font-weight:600}
Â  .brand svg{width:18px;height:18px}
Â  .spacer{flex:1}
Â  .btn{border:1px solid var(--border);background:transparent;color:var(--text);padding:4px 8px;border-radius:6px;cursor:pointer;font-size:12px;white-space:nowrap}
Â  .btn:hover{background:var(--active)}
Â  .sidebar{
Â  Â  background:var(--sidebar);
Â  Â  border-right:1px solid var(--border);
Â  Â  padding:8px;
Â  Â  overflow:auto;
Â  Â  /* Mobile-specific */
Â  Â  position: absolute;
Â  Â  top: 40px;
Â  Â  bottom: 26px;
Â  Â  left: 0;
Â  Â  width: 260px;
Â  Â  transform: translateX(-100%);
Â  Â  transition: transform 0.3s ease-in-out;
Â  Â  z-index: 100;
Â  }
Â  .sidebar.open{
Â  Â  transform: translateX(0);
Â  }
Â  .section-title{font-size:12px;color:var(--muted);margin:6px 8px}
Â  .tree{user-select:none}
Â  .node{display:flex;align-items:center;gap:6px;padding:4px 6px;border-radius:6px;cursor:pointer}
Â  .node:hover{background:var(--active)}
Â  .node.active{background:var(--active)}
Â  .node .name{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
Â  .badge{font-size:11px;background:var(--badge);color:#fff;border-radius:10px;padding:1px 6px}
Â  .indent{padding-left:16px}
Â  .content{display:flex;flex-direction:column;min-width:0;flex:1;overflow:hidden}
Â  .tabs{display:flex;gap:2px;background:var(--panel);border-bottom:1px solid var(--border);overflow-x:auto;white-space:nowrap}
Â  .tab{display:flex;align-items:center;gap:8px;max-width:280px;padding:6px 10px;background:var(--tab);border-right:1px solid var(--border);cursor:pointer;color:var(--text);flex-shrink:0}
Â  .tab.active{background:var(--tab-active);font-weight:600}
Â  .tab .close{opacity:.7}
Â  .tab .close:hover{opacity:1}
Â  .editor{position:relative;flex:1;overflow:auto;background:var(--bg)}
Â  .editor-inner{padding:16px 20px;max-width:980px;margin:0 auto}
Â  pre,code{font:13px/1.6 var(--font)}
Â  pre{background:var(--panel);border:1px solid var(--border);border-radius:8px;padding:12px;overflow:auto;white-space:pre-wrap;word-break:break-word}
Â  pre[contenteditable="true"]{outline:none}
Â  .md h1,.md h2,.md h3{margin:.6em 0 .2em}
Â  .md h1{font-size:22px}.md h2{font-size:18px}.md h3{font-size:16px}
Â  .md p{margin:.4em 0}
Â  .md ul{margin:.3em 0 .6em 1.2em}
Â  .md a{color:var(--accent);text-decoration:none}
Â  .md a:hover{text-decoration:underline}
Â  .img-wrap{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}
Â  .img-wrap img{max-width:100%;border:1px solid var(--border);border-radius:8px}
Â  .status-dot{width:8px;height:8px;background:var(--green);border-radius:50%}
Â  .kbd{border:1px solid var(--border);border-bottom-width:2px;border-radius:4px;padding:0 4px;font-size:10px}
Â  .mono{font-family:var(--font)}
Â  .hide-on-mobile { display: none; }
Â  .show-on-mobile { display: block; }
Â  .overlay {
Â  Â  position: fixed;
Â  Â  top: 0;
Â  Â  left: 0;
Â  Â  width: 100%;
Â  Â  height: 100%;
Â  Â  background: rgba(0, 0, 0, 0.5);
Â  Â  z-index: 90;
Â  Â  display: none;
Â  }
Â  .overlay.active {
Â  Â  display: block;
Â  }

Â  /* ðŸ’» Desktop & Tablet Layout */
Â  @media (min-width: 768px) {
Â  Â  .layout{
Â  Â  Â  display:grid;
Â  Â  Â  grid-template-columns: 260px 1fr;
Â  Â  Â  grid-template-rows: 40px 1fr 26px;
Â  Â  }
Â  Â  .topbar{grid-column:1/-1;}
Â  Â  .statusbar{grid-column:1/-1;}
Â  Â  .sidebar{
Â  Â  Â  position: relative;
Â  Â  Â  transform: translateX(0);
Â  Â  }
Â  Â  .content{
Â  Â  Â  grid-column:2;
Â  Â  Â  grid-row:2;
Â  Â  }
Â  Â  .hide-on-mobile { display: flex; }
Â  Â  .show-on-mobile { display: none; }
Â  }
</style>
</head>
<body data-theme="dark">
<div class="layout">
Â  <div class="topbar">
Â  Â  Â  Â  <button class="btn show-on-mobile" id="menuToggle" title="Toggle menu">â˜°</button>
Â  Â  <div class="brand">
Â  Â  Â  Â  Â  Â  <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M20 3 10 9 6 6 3 8l7 4-7 4 3 2 4-3 10 6V3Z" fill="currentColor" opacity=".8"/></svg>
Â  Â  Â  <span>VS Code Portfolio</span>
Â  Â  </div>
Â  Â  <span class="mono" id="repoName"></span>
Â  Â  <div class="spacer"></div>
Â  Â  <button class="btn" id="themeToggle" title="Toggle theme">Toggle Theme</button>
Â  Â  <button class="btn hide-on-mobile" id="openAll" title="Open all files">Open All</button>
Â  </div>

Â  <aside class="sidebar" id="sidebar">
Â  Â  <div class="section-title">EXPLORER</div>
Â  Â  <div id="tree" class="tree"></div>
Â  </aside>
Â  Â  <div class="overlay" id="overlay"></div>

Â  <main class="content">
Â  Â  <div class="tabs" id="tabs"></div>
Â  Â  <div class="editor"><div class="editor-inner" id="editor"></div></div>
Â  </main>

Â  <div class="statusbar">
Â  Â  <span class="status-dot"></span>
Â  Â  <span id="status">Ready</span>
Â  Â  <div class="spacer hide-on-mobile"></div>
Â  Â  <span class="kbd hide-on-mobile">Ctrl/Cmd + P</span> <span class="hide-on-mobile">Quick Open</span>
Â  Â  <span class="kbd hide-on-mobile">Ctrl/Cmd + W</span> <span class="hide-on-mobile">Close Tab</span>
Â  </div>
</div>

<script>
/* ===========================
Â  Â Virtual File System (VFS)
Â  Â =========================== */
const VFS = {
Â  name: "your-username",Â  Â // <-- set to your GitHub username to match repo
Â  type: "folder",
Â  children: [
Â  Â  {
Â  Â  Â  name: "profile",
Â  Â  Â  type: "folder",
Â  Â  Â  children: [
Â  Â  Â  Â  { name: "about_me.md", type: "file", content:
`# Hi, I'm Your Name

I'm a developer focused on **web**, **systems**, and **developer tools**. I love building delightful UX with strong engineering under the hood.

- ðŸŒ Based in: Hyderabad, IN
- ðŸ§  Interests: compilers, physics, ML tooling
- âœ‰ï¸ Email: [you@example.com](mailto:you@example.com)
- ðŸ”— Links: [GitHub](https://github.com/your-username) Â· [LinkedIn](https://www.linkedin.com/in/your-username) Â· [Website](https://your-username.github.io)

## What I do
- Design accessible, scalable frontends
- Build high-signal backends with clean APIs
- Ship fast, instrumented, maintainable code

## Currently
- âš™ï¸ Prototyping a VS Codeâ€“style portfolio (this!)
- ðŸ“š Reading: *Clean Architecture*`},
Â  Â  Â  Â  { name: "education.json", type: "file", content:
`[
Â  {"degree":"B.Tech in Computer Science","institution":"IIIT Hyderabad","year":"2021â€“2025","highlights":["GPA 9.1/10","Systems & HCI track"]},
Â  {"degree":"High School","institution":"Narayana Junior College","year":"2019â€“2021","highlights":["State Rank Top 1%","Physics Olympiad qualifier"]}
]`},
Â  Â  Â  Â  { name: "experience.txt", type: "file", content:
`Experience
----------

Software Engineer Intern â€” Acme Corp (May 2024â€“Aug 2024)
â€¢ Built internal dashboard (React + Node) used by 120+ engineers.
â€¢ Cut CI times by 32% via caching & pipeline tuning.
â€¢ Drove accessibility audit to WCAG AA.

Freelance â€” Frontend / Tooling (2022â€“present)
â€¢ Shipped 15+ sites and 3 internal tools.
â€¢ Created a form engine used by 3 startups.`},
Â  Â  Â  Â  { name: "contact.html", type: "file", content:
`<!doctype html>
<html><head><meta charset="utf-8">
<style>body{font:14px system-ui;margin:20px;color:#111}a{color:#2563eb}</style></head>
<body>
Â  <h2>Contact</h2>
Â  <p>Say hi at <a href="mailto:you@example.com">you@example.com</a> or DM on <a href="https://linkedin.com/in/your-username" target="_blank" rel="noopener">LinkedIn</a>.</p>
Â  <form onsubmit="alert('Pretend sent!');return false;">
Â  Â  <label>Name<br><input required></label><br><br>
Â  Â  <label>Email<br><input type="email" required></label><br><br>
Â  Â  <label>Message<br><textarea rows="4" required></textarea></label><br><br>
Â  Â  <button>Send</button>
Â  </form>
</body></html>`}
Â  Â  Â  ]
Â  Â  },
Â  Â  {
Â  Â  Â  name: "projects",
Â  Â  Â  type: "folder",
Â  Â  Â  children: [
Â  Â  Â  Â  { name: "projects.js", type: "file", content:
`// Selected projects
export const projects = [
Â  {
Â  Â  name: "Toletu â€” Roommate Pool",
Â  Â  stack: ["TypeScript", "React", "Vite", "Supabase"],
Â  Â  blurb: "A roommate matching app with ML-based compatibility score.",
Â  Â  links: { repo: "https://github.com/your-username/toletu", demo: "#" }
Â  },
Â  {
Â  Â  name: "PhotonSketch",
Â  Â  stack: ["Rust", "WASM", "WebGPU"],
Â  Â  blurb: "A GPU-accelerated sketch engine for the browser.",
Â  Â  links: { repo: "https://github.com/your-username/photonsketch", demo: "#" }
Â  }
];`},
Â  Â  Â  Â  { name: "project1.png", type: "file", content: "__IMAGE_project1__" },
Â  Â  Â  Â  { name: "project2.png", type: "file", content: "__IMAGE_project2__" }
Â  Â  Â  ]
Â  Â  },
Â  Â  {
Â  Â  Â  name: "gallery",
Â  Â  Â  type: "folder",
Â  Â  Â  children: [
Â  Â  Â  Â  { name: "profile.jpg", type: "file", content: "__IMAGE_avatar__" },
Â  Â  Â  Â  { name: "team.jpg", type: "file", content: "__IMAGE_team__" }
Â  Â  Â  ]
Â  Â  },
Â  Â  {
Â  Â  Â  name: "README.md",
Â  Â  Â  type: "file",
Â  Â  Â  content:
`# VS Code Portfolio

This portfolio is designed to look like the VS Code editor.

- Click files in the sidebar to open them as tabs.
- Markdown, JSON/TXT/JS, images, and HTML are supported.
- Text files are *editable* in the browser (changes are not saved).`
Â  Â  }
Â  ]
};

/* Tiny embedded images (SVG â†’ data URL) */
const IMAGES = {
Â  avatar: 'data:image/svg+xml;utf8,'+encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="800" height="500"><rect width="100%" height="100%" fill="#0ea5e9"/><circle cx="150" cy="160" r="70" fill="#fff" opacity=".9"/><rect x="80" y="250" width="140" height="140" rx="18" fill="#fff" opacity=".9"/><text x="260" y="190" font-family="monospace" font-size="36" fill="#fff">Your Name</text><text x="260" y="240" font-family="monospace" font-size="18" fill="#e0f2fe">Developer Â· Tooling Â· UX</text></svg>`),
Â  team: 'data:image/svg+xml;utf8,'+encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="800" height="500"><defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#22c55e"/><stop offset="1" stop-color="#16a34a"/></linearGradient></defs><rect width="100%" height="100%" fill="url(#g)"/><g fill="#fff" opacity=".95"><circle cx="130" cy="170" r="40"/><rect x="95" y="220" width="70" height="80" rx="12"/></g><g fill="#fff" opacity=".9"><circle cx="260" cy="170" r="40"/><rect x="225" y="220" width="70" height="80" rx="12"/></g><g fill="#fff" opacity=".85"><circle cx="390" cy="170" r="40"/><rect x="355" y="220" width="70" height="80" rx="12"/></g></svg>`),
Â  project1: 'data:image/svg+xml;utf8,'+encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="900" height="500"><rect width="100%" height="100%" fill="#1e293b"/><text x="50" y="90" font-family="monospace" font-size="28" fill="#93c5fd">Toletu â€” Roommate Pool</text><rect x="50" y="120" width="800" height="320" rx="12" fill="#0ea5e9" opacity=".4"/><text x="60" y="160" font-family="monospace" font-size="16" fill="#e2e8f0">React Â· TypeScript Â· Supabase</text></svg>`),
Â  project2: 'data:image/svg+xml;utf8,'+encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" width="900" height="500"><rect width="100%" height="100%" fill="#111827"/><text x="50" y="90" font-family="monospace" font-size="28" fill="#86efac">PhotonSketch</text><rect x="50" y="120" width="800" height="320" rx="12" fill="#22c55e" opacity=".25"/><text x="60" y="160" font-family="monospace" font-size="16" fill="#d1fae5">Rust Â· WASM Â· WebGPU</text></svg>`)
};
function patchImages(node){
Â  if(node.type === "file"){
Â  Â  if(node.content === "__IMAGE_avatar__") node.content = IMAGES.avatar;
Â  Â  if(node.content === "__IMAGE_team__") node.content = IMAGES.team;
Â  Â  if(node.content === "__IMAGE_project1__") node.content = IMAGES.project1;
Â  Â  if(node.content === "__IMAGE_project2__") node.content = IMAGES.project2;
Â  } else if(node.type === "folder" && node.children){
Â  Â  node.children.forEach(patchImages);
Â  }
}
patchImages(VFS);

/* ==============
Â  Â UI Rendering
Â  Â ============== */
const $treeÂ  Â = document.getElementById('tree');
const $tabsÂ  Â = document.getElementById('tabs');
const $editor = document.getElementById('editor');
const $status = document.getElementById('status');
const $repoName = document.getElementById('repoName');
const $sidebar = document.getElementById('sidebar');
const $overlay = document.getElementById('overlay');

$repoName.textContent = ' / ' + VFS.name;

const openTabs = []; // {path, name, type, content}
let activePath = null;

function iconFor(node){
Â  if(node.type === 'folder'){
Â  Â  return '<svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M10 4l2 2h8v12H4V4h6z"/></svg>';
Â  }
Â  const ext = node.name.split('.').pop().toLowerCase();
Â  const color = {
Â  Â  md:'#43a047', json:'#f59e0b', js:'#f7df1e', txt:'#9aa0a6',
Â  Â  html:'#e34f26', png:'#00bcd4', jpg:'#00bcd4', jpeg:'#00bcd4', gif:'#00bcd4', svg:'#00bcd4'
Â  }[ext] || '#9aa0a6';
Â  return `<svg width="14" height="14" viewBox="0 0 24 24" fill="${color}" aria-hidden="true"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><path d="M14 2v6h6"/></svg>`;
}

function buildTree(node, basePath=''){
Â  const path = basePath ? basePath + '/' + node.name : node.name;
Â  if(node.type === 'folder'){
Â  Â  const el = document.createElement('div');
Â  Â  el.innerHTML = `
Â  Â  Â  <div class="node" data-path="${path}" data-type="folder">
Â  Â  Â  Â  ${iconFor(node)} <span class="name">${node.name}</span> <span class="badge">${node.children.length}</span>
Â  Â  Â  </div>`;
Â  Â  const childrenWrap = document.createElement('div');
Â  Â  childrenWrap.className = 'indent';
Â  Â  node.children.forEach(child => childrenWrap.appendChild(buildTree(child, path)));
Â  Â  el.appendChild(childrenWrap);
Â  Â  el.querySelector('.node').addEventListener('click', (e)=>{
Â  Â  Â  e.stopPropagation();
Â  Â  Â  childrenWrap.style.display = (childrenWrap.style.display === 'none') ? '' : 'none';
Â  Â  Â  setActiveNode(path);
Â  Â  });
Â  Â  return el;
Â  }else{
Â  Â  const el = document.createElement('div');
Â  Â  el.innerHTML = `
Â  Â  Â  <div class="node" data-path="${path}" data-type="file">
Â  Â  Â  Â  ${iconFor(node)} <span class="name">${node.name}</span>
Â  Â  Â  </div>`;
Â  Â  el.querySelector('.node').addEventListener('click', (e)=>{
Â  Â  Â  e.stopPropagation();
Â  Â  Â  openFile(path);
Â  Â  Â  closeSidebar(); // Added: Close sidebar after opening a file on mobile
Â  Â  });
Â  Â  return el;
Â  }
}
function setActiveNode(path){
Â  $tree.querySelectorAll('.node').forEach(n => n.classList.toggle('active', n.dataset.path === path));
}

$tree.appendChild(buildTree(VFS));

/* ===========
Â  Â Tabs logic
Â  Â =========== */
function openFile(path){
Â  const node = findNodeByPath(VFS, path);
Â  if(!node || node.type !== 'file') return;
Â  if(!openTabs.find(t => t.path === path)){
Â  Â  openTabs.push({ path, name: node.name, type: 'file', content: node.content });
Â  Â  renderTabs();
Â  }
Â  setActiveTab(path);
Â  renderEditor(node);
Â  $status.textContent = 'Opened ' + path;
}
function closeTab(path){
Â  const idx = openTabs.findIndex(t => t.path === path);
Â  if(idx !== -1){
Â  Â  openTabs.splice(idx,1);
Â  Â  if(activePath === path){
Â  Â  Â  activePath = openTabs.length ? openTabs[openTabs.length-1].path : null;
Â  Â  Â  if(activePath){
Â  Â  Â  Â  const node = findNodeByPath(VFS, activePath);
Â  Â  Â  Â  renderEditor(node);
Â  Â  Â  }else{
Â  Â  Â  Â  $editor.innerHTML = '';
Â  Â  Â  }
Â  Â  }
Â  Â  renderTabs();
Â  }
}
function setActiveTab(path){
Â  activePath = path;
Â  renderTabs();
}
function renderTabs(){
Â  $tabs.innerHTML = '';
Â  openTabs.forEach(tab=>{
Â  Â  const el = document.createElement('div');
Â  Â  el.className = 'tab' + (tab.path === activePath ? ' active':'');
Â  Â  el.innerHTML = `<span class="name">${tab.name}</span><span class="close">Ã—</span>`;
Â  Â  el.addEventListener('click', ()=>{ setActiveTab(tab.path); renderEditor(findNodeByPath(VFS, tab.path)); });
Â  Â  el.querySelector('.close').addEventListener('click', (e)=>{ e.stopPropagation(); closeTab(tab.path); });
Â  Â  $tabs.appendChild(el);
Â  });
}

/* ==============
Â  Â Editor render
Â  Â ============== */
function renderEditor(node){
Â  const ext = node.name.split('.').pop().toLowerCase();
Â  $editor.innerHTML = '';
Â  if(['png','jpg','jpeg','gif','svg'].includes(ext)){
Â  Â  const img = document.createElement('img');
Â  Â  img.src = node.content;
Â  Â  const wrap = document.createElement('div');
Â  Â  wrap.className = 'img-wrap';
Â  Â  wrap.appendChild(img);
Â  Â  $editor.appendChild(wrap);
Â  Â  return;
Â  }
Â  if(ext === 'md'){
Â  Â  const html = renderMarkdown(node.content);
Â  Â  const div = document.createElement('div');
Â  Â  div.className = 'md';
Â  Â  div.innerHTML = html;
Â  Â  $editor.appendChild(div);
Â  Â  return;
Â  }
Â  if(ext === 'html'){
Â  Â  // sandboxed preview
Â  Â  const iframe = document.createElement('iframe');
Â  Â  iframe.setAttribute('sandbox','allow-forms allow-scripts allow-same-origin');
Â  Â  iframe.style.width = '100%';
Â  Â  iframe.style.height = '60vh';
Â  Â  iframe.srcdoc = node.content;
Â  Â  $editor.appendChild(iframe);

Â  Â  const pre = document.createElement('pre');
Â  Â  pre.textContent = node.content;
Â  Â  pre.setAttribute('contenteditable','true');
Â  Â  $editor.appendChild(document.createElement('hr'));
Â  Â  $editor.appendChild(pre);
Â  Â  return;
Â  }
Â  // json/txt/js â†’ editable
Â  const pre = document.createElement('pre');
Â  pre.setAttribute('contenteditable','true');
Â  pre.textContent = node.content;
Â  $editor.appendChild(pre);
}

/* =========
Â  Â Helpers
Â  Â ========= */
function findNodeByPath(node, path, base=''){
Â  const here = base ? base + '/' + node.name : node.name;
Â  if(here === path) return node;
Â  if(node.type === 'folder' && node.children){
Â  Â  for(const ch of node.children){
Â  Â  Â  const found = findNodeByPath(ch, path, here);
Â  Â  Â  if(found) return found;
Â  Â  }
Â  }
Â  return null;
}

// Simple markdown renderer (headings, bold/italic, lists, links, images, code ticks)
function renderMarkdown(md){
Â  let html = md
Â  Â  .replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');Â  // escape
Â  // images ![alt](url)
Â  html = html.replace(/!\[([^\]]*)\]\(([^)]+)\)/g, (_,alt,src)=>{
Â  Â  if(src.startsWith('__IMAGE')){ return `<img alt="${alt}" src="${IMAGES[src.replace('__IMAGE_','').toLowerCase()]||''}">`; }
Â  Â  return `<img alt="${alt}" src="${src}">`;
Â  });
Â  // links [text](url)
Â  html = html.replace(/\[([^\]]+)\]\(([^)]+)\)/g, `<a href="$2" target="_blank" rel="noopener">$1</a>`);
Â  // bold **text**
Â  html = html.replace(/\*\*([^*]+)\*\*/g, `<strong>$1</strong>`);
Â  // italics *text*
Â  html = html.replace(/\*([^*\n]+)\*/g, `<em>$1</em>`);
Â  // headings
Â  html = html.replace(/^### (.*)$/gm, `<h3>$1</h3>`);
Â  html = html.replace(/^## (.*)$/gm, `<h2>$1</h2>`);
Â  html = html.replace(/^# (.*)$/gm, `<h1>$1</h1>`);
Â  // lists
Â  html = html.replace(/^\s*-\s+(.*)$/gm, `<li>$1</li>`);
Â  html = html.replace(/(<li>.*<\/li>)(?!\s*<li>)/gs, `<ul>$1</ul>`);
Â  // paragraphs
Â  html = html.replace(/(^|\n)([^<\n][^\n]*)/g, (m,p1,p2)=>{
Â  Â  if(/^<\/?(h1|h2|h3|ul|li)/.test(p2.trim())) return m;
Â  Â  if(!p2.trim()) return m;
Â  Â  return `${p1}<p>${p2}</p>`;
Â  });
Â  return html;
}

/* =========
Â  Â Commands
Â  Â ========= */
document.getElementById('openAll').addEventListener('click', ()=>{
Â  // open common portfolio files
Â  const paths = [
Â  Â  `${VFS.name}/profile/about_me.md`,
Â  Â  `${VFS.name}/profile/education.json`,
Â  Â  `${VFS.name}/profile/experience.txt`,
Â  Â  `${VFS.name}/projects/projects.js`,
Â  Â  `${VFS.name}/profile/contact.html`,
Â  Â  `${VFS.name}/projects/project1.png`,
Â  Â  `${VFS.name}/gallery/profile.jpg`
Â  ];
Â  paths.forEach(p => openFile(p));
});
document.getElementById('themeToggle').addEventListener('click', ()=>{
Â  const cur = document.body.getAttribute('data-theme');
Â  document.body.setAttribute('data-theme', cur === 'dark' ? 'light' : 'dark');
});

/* Sidebar toggle for mobile */
const $menuToggle = document.getElementById('menuToggle');
const $sidebarEl = document.getElementById('sidebar');
const $overlayEl = document.getElementById('overlay');
function closeSidebar(){
Â  $sidebarEl.classList.remove('open');
Â  $overlayEl.classList.remove('active');
}
$menuToggle.addEventListener('click', ()=>{
Â  $sidebarEl.classList.toggle('open');
Â  $overlayEl.classList.toggle('active');
});
$overlayEl.addEventListener('click', closeSidebar);


/* Keyboard shortcuts */
document.addEventListener('keydown', (e)=>{
Â  const mod = e.ctrlKey || e.metaKey;
Â  if(mod && e.key.toLowerCase()==='p'){ // quick open
Â  Â  e.preventDefault();
Â  Â  $status.textContent = 'Quick Open: type a filenameâ€¦';
Â  Â  const name = prompt('Open file (type part of name):','about');
Â  Â  if(!name) return;
Â  Â  const matches = [];
Â  Â  walk(VFS, (node, path)=>{
Â  Â  Â  if(node.type==='file' && node.name.toLowerCase().includes(name.toLowerCase())){
Â  Â  Â  Â  matches.push(path);
Â  Â  Â  }
Â  Â  });
Â  Â  if(matches[0]) openFile(matches[0]);
Â  Â  else alert('No match.');
Â  }
Â  if(mod && e.key.toLowerCase()==='w'){ // close tab
Â  Â  e.preventDefault();
Â  Â  if(activePath) closeTab(activePath);
Â  }
});

function walk(node, fn, base=''){
Â  const path = base ? base + '/' + node.name : node.name;
Â  fn(node, path);
Â  if(node.type==='folder' && node.children) node.children.forEach(ch => walk(ch, fn, path));
}

/* Boot: open README by default */
openFile(`${VFS.name}/README.md`);
</script>
</body>
</html>

